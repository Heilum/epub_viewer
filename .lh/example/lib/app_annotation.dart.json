{
    "sourceFile": "example/lib/app_annotation.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1762661473773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1762661869795,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,27 +1,22 @@\n import 'dart:convert';\n \n-import 'package:flutter/material.dart';\n-\n enum AnnotationType {\n   highlight,\n-  underline,\n   note,\n }\n \n class AppAnnotation {\n   final String id; // Unique identifier\n   final String cfi; // CFI range\n   final AnnotationType type;\n-  final Color color;\n   final String? myNote; // User's note text\n   final DateTime createdAt;\n \n   AppAnnotation({\n     required this.id,\n     required this.cfi,\n     required this.type,\n-    required this.color,\n     this.myNote,\n     DateTime? createdAt,\n   }) : createdAt = createdAt ?? DateTime.now();\n \n@@ -30,9 +25,8 @@\n     return {\n       'id': id,\n       'cfi': cfi,\n       'type': type.name,\n-      'color': color.value,\n       'myNote': myNote,\n       'createdAt': createdAt.toIso8601String(),\n     };\n   }\n@@ -45,9 +39,8 @@\n       type: AnnotationType.values.firstWhere(\n         (e) => e.name == json['type'],\n         orElse: () => AnnotationType.note,\n       ),\n-      color: Color(json['color']),\n       myNote: json['myNote'],\n       createdAt: DateTime.parse(json['createdAt']),\n     );\n   }\n@@ -56,17 +49,15 @@\n   AppAnnotation copyWith({\n     String? id,\n     String? cfi,\n     AnnotationType? type,\n-    Color? color,\n     String? myNote,\n     DateTime? createdAt,\n   }) {\n     return AppAnnotation(\n       id: id ?? this.id,\n       cfi: cfi ?? this.cfi,\n       type: type ?? this.type,\n-      color: color ?? this.color,\n       myNote: myNote ?? this.myNote,\n       createdAt: createdAt ?? this.createdAt,\n     );\n   }\n"
                }
            ],
            "date": 1762661473773,
            "name": "Commit-0",
            "content": "import 'dart:convert';\n\nimport 'package:flutter/material.dart';\n\nenum AnnotationType {\n  highlight,\n  underline,\n  note,\n}\n\nclass AppAnnotation {\n  final String id; // Unique identifier\n  final String cfi; // CFI range\n  final AnnotationType type;\n  final Color color;\n  final String? myNote; // User's note text\n  final DateTime createdAt;\n\n  AppAnnotation({\n    required this.id,\n    required this.cfi,\n    required this.type,\n    required this.color,\n    this.myNote,\n    DateTime? createdAt,\n  }) : createdAt = createdAt ?? DateTime.now();\n\n  // Convert to JSON for persistence\n  Map<String, dynamic> toJson() {\n    return {\n      'id': id,\n      'cfi': cfi,\n      'type': type.name,\n      'color': color.value,\n      'myNote': myNote,\n      'createdAt': createdAt.toIso8601String(),\n    };\n  }\n\n  // Create from JSON\n  factory AppAnnotation.fromJson(Map<String, dynamic> json) {\n    return AppAnnotation(\n      id: json['id'],\n      cfi: json['cfi'],\n      type: AnnotationType.values.firstWhere(\n        (e) => e.name == json['type'],\n        orElse: () => AnnotationType.note,\n      ),\n      color: Color(json['color']),\n      myNote: json['myNote'],\n      createdAt: DateTime.parse(json['createdAt']),\n    );\n  }\n\n  // Copy with modifications\n  AppAnnotation copyWith({\n    String? id,\n    String? cfi,\n    AnnotationType? type,\n    Color? color,\n    String? myNote,\n    DateTime? createdAt,\n  }) {\n    return AppAnnotation(\n      id: id ?? this.id,\n      cfi: cfi ?? this.cfi,\n      type: type ?? this.type,\n      color: color ?? this.color,\n      myNote: myNote ?? this.myNote,\n      createdAt: createdAt ?? this.createdAt,\n    );\n  }\n\n  @override\n  String toString() {\n    return 'AppAnnotation(id: $id, cfi: $cfi, type: $type, note: $myNote)';\n  }\n}\n\n// Helper functions for list serialization\nclass AnnotationSerializer {\n  static String encodeList(List<AppAnnotation> annotations) {\n    final list = annotations.map((a) => a.toJson()).toList();\n    return jsonEncode(list);\n  }\n\n  static List<AppAnnotation> decodeList(String jsonString) {\n    if (jsonString.isEmpty) return [];\n    final list = jsonDecode(jsonString) as List;\n    return list.map((json) => AppAnnotation.fromJson(json)).toList();\n  }\n}\n"
        }
    ]
}